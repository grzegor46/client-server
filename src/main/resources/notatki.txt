Poniżej są 2 podejścia z zapisywaniem listy do pliku .json


a) ObjectWriter objectWriter = objectMapper.writer().withRootValueSeparator("\n").withDefaultPrettyPrinter();
b) ObjectWriter objectWriter = objectMapper.writerFor(objectMapper
                       .getTypeFactory()
                       .constructCollectionType(List.class, User.class));


public void writeUsersToJson(List<User> userList) {

        try {
//            ObjectWriter objectWriter = objectMapper.writer().withRootValueSeparator("\n").withDefaultPrettyPrinter();
            ObjectWriter objectWriter = objectMapper.writerFor(objectMapper
                    .getTypeFactory()
                    .constructCollectionType(List.class, User.class));
            objectWriter.writeValue(new File(pathToFileDB), userList);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }